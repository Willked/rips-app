<div class="row">
  <h1>GENERADOR DE RIPS</h1>
  <h3>Generación de RIPS en formato CSV</h3>
</div>

<div class="register-form">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">

    <div class="row mb-3">
      <div class="card mb-3">
        <div class="card-body">
          <h2 class="card-title">Datos de la Factura</h2>
          <div class="row">
            <div class="form-group col-md-4 mb-3">
              <label class="form-label">Número factura</label>
              <input
                type="text"
                formControlName="numFactura"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['numFactura'].errors }"
              />
              <div *ngIf="submitted && f['numFactura'].errors" class="invalid-feedback">
                <div *ngIf="f['numFactura'].errors['required']">* Campo requerido</div>
              </div>
            </div>
            <div class="form-group col-md-4 mb-3">
              <label class="form-label">Fecha factura</label>
              <input
                type="date"
                formControlName="fecFactura"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['fecFactura'].errors }"
                value="{{ now | date: 'dd/MM/yyyy' }}"
              />
              <div *ngIf="submitted && f['fecFactura'].errors" class="invalid-feedback">
                <div *ngIf="f['fecFactura'].errors['required']">* Campo requerido</div>
              </div>
            </div>
            <div class="form-group col-md-4 mb-3">
              <label class="form-label">Valor factura</label>
              <input
                type="number"
                formControlName="valFactura"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['valFactura'].errors }"
              />
              <div *ngIf="submitted && f['valFactura'].errors" class="invalid-feedback">
                <div *ngIf="f['valFactura'].errors['required']">* Campo requerido</div>
              </div>
            </div>
            <div class="form-group col-md-4 mb-3">
              <label class="form-label">código de la entidad</label>
              <input
                type="text"
                formControlName="codEntidad"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['codEntidad'].errors }"
              />
              <div *ngIf="submitted && f['codEntidad'].errors" class="invalid-feedback">
                <div *ngIf="f['codEntidad'].errors['required']">* Campo requerido</div>
              </div>
            </div>
            <div class="form-group col-md-8 mb-3">
              <label class="form-label">Nombre de la entidad</label>
              <input
                type="text"
                formControlName="nomEntidad"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['nomEntidad'].errors }"
              />
              <div *ngIf="submitted && f['nomEntidad'].errors" class="invalid-feedback">
                <div *ngIf="f['nomEntidad'].errors['required']">* Campo requerido</div>
              </div>
            </div>
            <div class="form-group col-md-4 mb-3">
              <label class="form-label">Número contrato</label>
              <input
                type="text"
                formControlName="numContrato"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['numContrato'].errors }"
              />
              <div *ngIf="submitted && f['numContrato'].errors" class="invalid-feedback">
                <div *ngIf="f['numContrato'].errors['required']">* Campo requerido</div>
              </div>
            </div>
            <div class="form-group col-md-4 mb-3">
              <label class="form-label">Plan Beneficios</label>
              <input
                type="text"
                formControlName="planBeneficios"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['planBeneficios'].errors }"
              />
              <div *ngIf="submitted && f['planBeneficios'].errors" class="invalid-feedback">
                <div *ngIf="f['planBeneficios'].errors['required']">* Campo requerido</div>
              </div>
            </div>
            <div class="form-group col-md-4 mb-3">
              <label class="form-label">Número poliza</label>
              <input
                type="text"
                formControlName="numPoliza"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['numPoliza'].errors }"
              />
              <div *ngIf="submitted && f['numPoliza'].errors" class="invalid-feedback">
                <div *ngIf="f['numPoliza'].errors['required']">* Campo requerido</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mb-3">
      <div class="card mb-3">
        <div class="card-body">
          <h2 class="card-title">Datos del Usuario</h2>
          <div class="row">
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Tipo de documento</label>
              <div class="form-group">
                <select
                    formControlName="tipoDocumento"
                    class="form-control"
                  >
                    <option value="CC">Cédula ciudadanía</option>
                    <option value="CE">Cédula de extranjería</option>
                    <option value="CD">Carné diplomático</option>
                    <option value="PA">Pasaporte</option>
                    <option value="SC">Salvoconducto</option>
                    <option value="PE">Permiso Especial de Permanencia</option>
                    <option value="RC">Registro civil</option>
                    <option value="TI">Tarjeta de identidad</option>
                    <option value="CN">Certificado de nacido vivo</option>
                    <option value="AS">Adulto sin identificar</option>
                    <option value="MS">Menor sin identificar</option>
                    <option value="DE">Documento extranjero</option>
                    <option value="PT">Permiso temporal de permanencia</option>
                    <option value="SI">Sin identificación</option>
                  </select>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Número de documento</label>
              <div class="form-group">
                <input
                  type="text"
                  formControlName="numDocumento"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f['numDocumento'].errors }"
                />
                <div *ngIf="submitted && f['numDocumento'].errors" class="invalid-feedback">
                  <div *ngIf="f['numDocumento'].errors['required']">* Campo requerido</div>
                  <div *ngIf="f['numDocumento'].errors['validarCedula']">* Minimo 4 caracteres requeridos</div>
                </div>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Tipo de usuario JSON</label>
              <div class="form-group">
                <select
                    formControlName="tipoUsuarioJson"
                    class="form-control"
                  >
                    <option value="01">Contributivo cotizante</option>
                    <option value="02">Contributivo beneficiario</option>
                    <option value="03">Contributivo adicional</option>
                    <option value="04">Subsidiado</option>
                    <option value="05">No afiliado</option>
                    <option value="06">Especial o Excepción cotizante</option>
                    <option value="07">Especial o Excepción beneficiario</option>
                    <option value="08">Personas privadas de la libertad a cargo del Fondo Nacional de Salud</option>
                    <option value="09">Tomador / Amparado ARL</option>
                    <option value="10">Tomador / Amparado SOAT</option>
                  </select>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Tipo de usuario CSV</label>
              <div class="form-group">
                <select
                    formControlName="tipoUsuarioCsv"
                    class="form-control"
                  >
                    <option value="1">Contributivo</option>
                    <option value="2">Subsidiado</option>
                    <option value="3">Vinculado</option>
                    <option value="4">Particular</option>
                    <option value="5">Otro</option>
                    <option value="6">Víctima con afiliación al Régimen Contributivo</option>
                    <option value="7">Víctima con afiliación al Régimen subsidiado</option>
                    <option value="8">Víctima no asegurado (Vinculado)</option>
                  </select>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Primer nombre</label>
              <div class="form-group">
                <input
                  type="text"
                  formControlName="priNombre"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f['priNombre'].errors }"
                />
                <div *ngIf="submitted && f['priNombre'].errors" class="invalid-feedback">
                  <div *ngIf="f['priNombre'].errors['required']">* Campo requerido</div>
                </div>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Segundo Nombre</label>
              <div class="form-group">
                <input
                  type="text"
                  formControlName="segNombre"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f['segNombre'].errors }"
                />
                <div *ngIf="submitted && f['segNombre'].errors" class="invalid-feedback">
                  <div *ngIf="f['segNombre'].errors['required']">* Campo requerido</div>
                </div>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Primer apellido</label>
              <div class="form-group">
                <input
                  type="text"
                  formControlName="priApellido"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f['priApellido'].errors }"
                />
                <div *ngIf="submitted && f['priApellido'].errors" class="invalid-feedback">
                  <div *ngIf="f['priApellido'].errors['required']">* Campo requerido</div>
                </div>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Segundo apellido</label>
              <div class="form-group">
                <input
                  type="text"
                  formControlName="segApellido"
                  class="form-control"
                  [ngClass]="{ 'is-invalid': submitted && f['segApellido'].errors }"
                />
                <div *ngIf="submitted && f['segApellido'].errors" class="invalid-feedback">
                  <div *ngIf="f['segApellido'].errors['required']">* Campo requerido</div>
                </div>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Fecha de nacimiento</label>
              <input
                type="date"
                formControlName="fecNacimiento"
                class="form-control"
                [ngClass]="{ 'is-invalid': submitted && f['fecNacimiento'].errors }"
                value="{{ now | date: 'dd/MM/yyyy' }}"
              />
              <div *ngIf="submitted && f['fecNacimiento'].errors" class="invalid-feedback">
                <div *ngIf="f['fecNacimiento'].errors['required']">* Campo requerido</div>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Sexo</label>
              <div class="form-group">
                <select
                    formControlName="sexo"
                    class="form-control"
                  >
                    <option value="M">Masculino</option>
                    <option value="I">* Indeterminado o Intersexual</option>
                    <option value="F">Femenino</option>
                  </select>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Zona de residencia</label>
              <div class="form-group">
                <select
                    formControlName="zonaResidencia"
                    class="form-control"
                  >
                    <option value="01">Rural</option>
                    <option value="02">Urbano</option>
                  </select>
              </div>
            </div>
            <div class="form-group col-md-3 mb-3">
              <label class="form-label">Incapacidad</label>
              <div class="form-group">
                <select
                    formControlName="incapacidad"
                    class="form-control"
                  >
                    <option value="SI">SI</option>
                    <option value="NO">NO</option>
                  </select>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <app-consultas></app-consultas>
    <div class="form-group">
      <button type="submit" class="btn btn-primary">Register</button>
      <button
        type="button"
        (click)="onReset()"
        class="btn btn-warning float-right"
      >
        Reset
      </button>
    </div>

  </form>
</div>


